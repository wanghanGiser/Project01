(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bca7adc"],{"26ab":function(t,e,a){},"63fc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view"},[t._m(0),a("div",{attrs:{id:"conte"}},[a("div",{staticStyle:{position:"relative"}},[a("img",{attrs:{src:t.image1}}),a("input",{attrs:{type:"file",accept:"image/*",id:"img"},on:{change:function(e){return t.check(e)}}})]),t._m(1),t._m(2),t._m(3),t._m(4),a("input",{attrs:{type:"button",value:"保存"},on:{click:function(e){return t.upload()}}})])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("h3",[t._v("用户信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("昵称:")]),a("input",{attrs:{type:"text",id:"txt"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("原密码:")]),a("input",{attrs:{type:"password",id:"oldpwd"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("新密码:")]),a("input",{attrs:{type:"password",id:"newpwd"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("确认密码:")]),a("input",{attrs:{type:"password",id:"confirmpwd"}})])}],r={props:{image:{type:String,default:a("3a18")}},data:function(){return{flag:!0,image1:this.image}},watch:{image:function(t){this.image1=t}},methods:{upload:function(){var t=this,e=new FormData,a=/[a-zA-Z0-9_]{6,16}/,n=document.getElementById("img").files[0];this.flag||(n=null);var i=document.getElementById("txt"),r=document.getElementById("oldpwd"),u=document.getElementById("newpwd"),l=document.getElementById("confirmpwd");if(n||i.value||r.value||u.value||l.value){if(n&&e.append("file",document.getElementById("img").files[0]),i.value&&e.append("text",i.value),r.value){if(!u.value||u.value!==l.value||!a.test(u.value))return void alert("密码不一致,或者格式错误");e.append("oldpwd",r.value),e.append("newpwd",u.value)}this.$ajax.post("/user/updateInfo",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(e.data){var a={};n&&(a.img=t.image1),i.value&&(a.text=i.value),t.$emit("changeinfo",a),alert("修改成功")}}))}},check:function(t){if(t.target.files[0].size>1e6)return this.flag=!1,void alert("文件不能超过1M");this.flag=!0;var e=new FileReader;e.readAsDataURL(t.target.files[0]);var a=this;e.onloadend=function(){a.image1=this.result}}}},u=r,l=(a("c1a1"),a("2877")),s=Object(l["a"])(u,n,i,!1,null,"0a8690f2",null);e["default"]=s.exports},c1a1:function(t,e,a){"use strict";var n=a("26ab"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-6bca7adc.3d3d37ed.js.map