(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee74117a"],{4043:function(e,t,a){"use strict";var n=a("7aac9"),i=a.n(n);i.a},"63fc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view"},[e._m(0),a("div",{attrs:{id:"conte"}},[a("div",{staticStyle:{position:"relative"}},[a("img",{attrs:{src:e.image1}}),a("input",{attrs:{type:"file",accept:"image/*",id:"img"},on:{change:function(t){return e.change(t)}}})]),e._m(1),e._m(2),e._m(3),e._m(4),a("input",{attrs:{type:"button",value:"保存"},on:{click:function(t){return e.upload()}}})])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("h3",[e._v("用户信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",[e._v("昵称:")]),a("input",{attrs:{type:"text",id:"txt"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",[e._v("原密码:")]),a("input",{attrs:{type:"password",id:"oldpwd"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",[e._v("新密码:")]),a("input",{attrs:{type:"password",id:"newpwd"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",[e._v("确认密码:")]),a("input",{attrs:{type:"password",id:"confirmpwd"}})])}],r={props:{image:{type:String,default:a("3a18")}},data:function(){return{flag:!0,image1:this.image}},watch:{image:function(e){this.image1=e}},methods:{upload:function(){var e=this;if(this.flag){var t=new FormData,a=/[a-zA-Z0-9_]{6,16}/,n=document.getElementById("img").files[0],i=document.getElementById("txt"),r=document.getElementById("oldpwd"),u=document.getElementById("newpwd"),s=document.getElementById("confirmpwd");if(n||i.value||r.value||u.value||s.value){if(n&&t.append("file",document.getElementById("img").files[0]),i.value&&t.append("text",i.value),r.value){if(!u.value||u.value!==s.value||!a.test(u.value))return void alert("密码不一致,或者格式错误");t.append("oldpwd",r.value),t.append("newpwd",u.value)}this.$ajax.post("/user/updateInfo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){if(t.data){var a={};n&&(a.img=e.image1),i.value&&(a.text=i.value),e.$emit("changeinfo",a),alert("修改成功")}}))}}},change:function(e){if(e.target.files[0].size>1e6)return this.flag=!1,void alert("文件不能超过1M");this.flag=!0;var t=new FileReader;t.readAsDataURL(e.target.files[0]);var a=this;t.onloadend=function(){a.image1=this.result}}}},u=r,s=(a("4043"),a("2877")),l=Object(s["a"])(u,n,i,!1,null,"dc9dc026",null);t["default"]=l.exports},"7aac9":function(e,t,a){}}]);
//# sourceMappingURL=chunk-ee74117a.db4971f6.js.map